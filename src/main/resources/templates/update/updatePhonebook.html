<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>updatePhonebookPage</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style>
        .row {
            font-weight: bold;
            font-size: 16px;
            color: black;
            padding: 8px;
            border: 2px solid black;
        }
        body {
            color: #000;
            overflow-x: hidden;
            height: 100%;
            background-image: url("https://i.imgur.com/GMmCQHC.png");
            background-repeat: no-repeat;
            background-size: 100% 100%
        }

        .card {
            padding: 30px 40px;
            margin-top: 60px;
            margin-bottom: 60px;
            border: none !important;
            box-shadow: 0 6px 12px 0 rgba(0, 0, 0, 0.2)
        }

        .blue-text {
            color: #00BCD4
        }

        .form-control-label {
            margin-bottom: 0
        }

        input,
        textarea,
        button {
            padding: 8px 15px;
            border-radius: 5px !important;
            margin: 5px 0px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            font-size: 18px !important;
            font-weight: 300
        }
    </style>
</head>
<body>
<script type="text/javascript">
    function validate(val) {
        v1 = document.getElementById("firstname");
        v2 = document.getElementById("lastname");
        v3 = document.getElementById("age");
        v4 = document.getElementById("phone_number");
        v5 = document.getElementById("address");
        v6 = document.getElementById("id")

        flag1 = true;
        flag2 = true;
        flag3 = true;
        flag4 = true;
        flag5 = true;
        flag6 = true;

        if (val >= 1 || val == 0) {
            if (v1.value == "") {
                v1.style.borderColor = "red";
                flag1 = false;
            } else {
                v1.style.borderColor = "green";
                flag1 = true;
            }
        }

        if (val >= 2 || val == 0) {
            if (v2.value == "") {
                v2.style.borderColor = "red";
                flag2 = false;
            } else {
                v2.style.borderColor = "green";
                flag2 = true;
            }
        }
        if (val >= 3 || val == 0) {
            if (v3.value == "") {
                v3.style.borderColor = "red";
                flag3 = false;
            } else {
                v3.style.borderColor = "green";
                flag3 = true;
            }
        }
        if (val >= 4 || val == 0) {
            if (v4.value == "") {
                v4.style.borderColor = "red";
                flag4 = false;
            } else {
                v4.style.borderColor = "green";
                flag4 = true;
            }
        }
        if (val >= 5 || val == 0) {
            if (v5.value == "") {
                v5.style.borderColor = "red";
                flag5 = false;
            } else {
                v5.style.borderColor = "green";
                flag5 = true;
            }
        }
        if (val >= 6 || val == 0) {
            if (v6.value == "") {
                v6.style.borderColor = "red";
                flag6 = false;
            } else {
                v6.style.borderColor = "green";
                flag6 = true;
            }
        }
        flag = flag1 && flag2 && flag3 && flag4 && flag5 && flag6;

        return flag;
    }
</script>
<div class="container-fluid px-1 py-5 mx-auto">
    <div class="row d-flex justify-content-center">
        <div class="col-xl-7 col-lg-8 col-md-9 col-11 text-center">
            <div class="card">
                <h5 class="text-center mb-4">Update Person card</h5>

                <form class="form-card" method="POST" action="#" th:action="@{/phonebook/updatePhonebook}"
                      th:object="${update}">
                    <div class="row justify-content-between text-left">
                        <div class="form-group col-sm-6 flex-column d-flex"><label class="form-control-label px-3">Id
                            <span class="text-danger"> *</span></label> <input type="text" id="id" name="fid"
                                                                                   th:field="${update.id}"
                                                                                   onblur="validate(6)"></div>
                        <div class="form-group col-sm-6 flex-column d-flex"><label class="form-control-label px-3">First
                            name<span class="text-danger"> *</span></label> <input type="text" id="firstname" name="fname"
                                                                                   th:field="${update.firstname}"
                                                                                   placeholder="Enter your first name"
                                                                                   pattern="^[A-Za-z]+$"
                                                                                   onblur="validate(1)"></div>
                        <div style="color:red" th:if="${#fields.hasErrors('firstname')}" th:errors="${update.firstname}">
                            FirstName Error</div>
                        <div class="form-group col-sm-6 flex-column d-flex"><label class="form-control-label px-3">Last
                            name<span class="text-danger"> *</span></label> <input type="text" id="lastname" name="lname"
                                                                                   th:field="${update.lastname}"
                                                                                   placeholder="Enter your last name"
                                                                                   pattern="^[A-Za-z]+$"
                                                                                   onblur="validate(2)"></div>
                        <div style="color:red" th:if="${#fields.hasErrors('lastname')}" th:errors="${update.lastname}">
                            LastName Error</div>
                    </div>
                    <div class="row justify-content-between text-left">
                        <div class="form-group col-sm-6 flex-column d-flex"><label class="form-control-label px-3">Age
                            <span class="text-danger"> *</span></label> <input type="text" id="age" name="age"
                                                                               th:field="${update.age}"
                                                                               placeholder=""
                                                                               pattern="^[0-9]{1,3}"
                                                                               onblur="validate(3)">
                            <div style="color:red" th:if="${#fields.hasErrors('age')}" th:errors="${update.age}">
                                Age Error</div>
                        </div>
                        <div class="form-group col-sm-6 flex-column d-flex"><label class="form-control-label px-3">Phone
                            number<span class="text-danger"> *</span></label> <input type="text" id="phone_number" name="mob"
                                                                                     th:field="${update.phone_number}"
                                                                                     placeholder="295544545"
                                                                                     pattern="^[0-9]{9}"
                                                                                     onblur="validate(4)"></div>
                        <div style="color:red" th:if="${#fields.hasErrors('phone_number')}" th:errors="${update.phone_number}">
                            Phone Error</div>
                    </div>
                    <div class="row justify-content-between text-left">
                        <div class="form-group col-sm-6 flex-column d-flex"><label class="form-control-label px-3">Adress
                            <span class="text-danger"> *</span></label> <input type="text" id="address" name="address"
                                                                               th:field="${update.address}"
                                                                               placeholder="" onblur="validate(5)">
                        </div>
                        <div style="color:red" th:if="${#fields.hasErrors('address')}" th:errors="${update.address}">
                            Address Error</div>
                    </div>
                    <div class="row justify-content-end">
                        <div class="form-group col-sm-6">
                            <button type="button" class="btn-block btn-primary"
                                    onclick="document.location='http://localhost:8081/phonebook/listPhone'">HOME</button>
                        </div>
                        <div class="form-group col-sm-6">
                            <button type="submit" class="btn-block btn-primary" value="save">Creat</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>